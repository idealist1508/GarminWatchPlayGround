using Xunit;

namespace Garmin.Ble.Lib.Tests;

public class CrcTest {
    [Fact]
    public void TestCrc1()
    {
        byte[] data =
        {
            0x21, 0x00, 0xa0, 0x13, 0x6f, 0x00, 0xd4, 0x0a, 0xe8, 0xa5, 0xb2, 0xed, 0xc2, 0x01, 0x08, 0x02, 0x00, 0x0c,
            0x76, 0xc3, 0xad, 0x76, 0x6f, 0x6d, 0x6f, 0x76, 0x65, 0x20, 0x48, 0x52, 0x00, 0x87, 0xd4
        };
        Assert.Equal(0xd487, Crc.Calc(data, 0, data.Length - 2));
    }

    [Fact]
    public void TestCrc2() {
        byte [] data = {0x09, 0x00, 0x88, 0x13, 0x88, 0x13, 0x05, 0x30, 0x82};
        Assert.Equal(0x8230, Crc.Calc(data, 0, data.Length - 2));
    }
}